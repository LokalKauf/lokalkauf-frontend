<a [routerLink]="'/trader-detail/' + trader.id" name="scroller.{{ trader.id }}">
  <mat-card>
    <img
      *ngIf="imageUrl$ | async as imageUrl; else loading"
      class="trader-thumbnail"
      [ngClass]="{
        placeholder: !imageUrl || imageUrl === '/assets/lokalkauf-pin.svg'
      }"
      [src]="imageUrl || '../../../assets/lokalkauf-pin.svg'"
      [alt]="trader.businessname"
    />
    <mat-card-header>
      <mat-card-title>{{ trader.businessname }}</mat-card-title>
      <mat-card-subtitle>
        <div class="text">
          {{ trader.street }}
          {{ trader.number }}
          <br />{{ trader.postcode }}
          {{ trader.city }}
        </div>
        <div class="distance-small">
          {{ trader.distance | number: '1.2-2':'de' }} km
          <app-bookmarks-menu (click)="preventDefault($event)" traderId="{{ trader.id }}"></app-bookmarks-menu>

          <ng-container *ngIf="trader.licence === 'ODbL'">
            <a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener noreferrer">
              <img src="../../../assets/osm-attribution-16.png" />
            </a>
          </ng-container>
        </div>
      </mat-card-subtitle>
    </mat-card-header>
  </mat-card>
</a>
<div class="distance-large">
  <ng-container *ngIf="trader.licence === 'ODbL'">
    <a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener noreferrer">
      <img class="osm-large" src="../../../assets/osm-attribution-24.png" />
    </a>
  </ng-container>
  <app-bookmarks-menu traderId="{{ trader.id }}"></app-bookmarks-menu>
  {{ trader.distance | number: '1.2-2':'de' }} km
</div>

<ng-template #loading>
  <div class="trader-thumbnail spinner">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>
